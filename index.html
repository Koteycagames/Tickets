<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Roblox Clone HTML</title>
    <style>
        :root {
            --bg-color: #1e1e1e;
            --card-color: #2b2b2b;
            --text-color: #ffffff;
            --accent: #00b06f; /* –†–æ–±–ª–æ–∫—Å –∑–µ–ª–µ–Ω—ã–π */
            --danger: #d93f3f;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            height: 100vh;
            overflow-x: hidden;
        }

        /* --- –®–ê–ü–ö–ê --- */
        header {
            background-color: #232323;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px solid #333;
        }

        .logo { font-size: 24px; font-weight: bold; }

        .user-info {
            display: flex;
            align-items: center;
            gap: 15px;
            cursor: pointer;
            background: #333;
            padding: 5px 15px;
            border-radius: 20px;
            transition: 0.2s;
        }
        .user-info:hover { background: #444; }

        .balance { font-weight: bold; color: var(--accent); }

        /* –ê–≤–∞—Ç–∞—Ä–∫–∞ —Å –±—É–∫–≤–æ–π */
        .avatar {
            width: 35px;
            height: 35px;
            background-color: orange;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
            font-size: 18px;
            color: white;
            text-transform: uppercase;
        }

        /* --- –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ --- */
        .main-container { padding: 20px; flex: 1; }
        
        .top-bar { display: flex; gap: 10px; margin-bottom: 20px; }
        
        .btn {
            padding: 10px 20px;
            background-color: var(--card-color);
            border: 1px solid #444;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.2s;
        }
        .btn:hover { background-color: #3a3a3a; }
        .btn-green { background-color: var(--accent); border: none; }
        .btn-green:hover { background-color: #00915b; }

        /* --- –°–ï–¢–ö–ê –ò–ì–† --- */
        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }

        .game-card {
            background-color: var(--card-color);
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .game-card:hover { transform: translateY(-5px); }
        .game-img { width: 100%; height: 100px; background-color: #555; display: flex; align-items: center; justify-content: center; color: #888; }
        .game-title { padding: 10px; font-weight: bold; font-size: 14px; }
        .game-online { padding: 0 10px 10px; font-size: 12px; color: #aaa; }

        /* --- –ú–û–î–ê–õ–¨–ù–´–ï –û–ö–ù–ê --- */
        .modal {
            display: none;
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.7);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .modal-content {
            background: var(--card-color);
            padding: 20px;
            border-radius: 12px;
            width: 400px;
            max-width: 90%;
            position: relative;
            text-align: center;
            max-height: 80vh;
            overflow-y: auto;
        }
        .close { position: absolute; top: 10px; right: 15px; cursor: pointer; font-size: 20px; }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è –Ω–∞–≥—Ä–∞–¥ */
        .reward-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #222;
            margin: 5px 0;
            padding: 10px;
            border-radius: 5px;
        }
        .timer-display { font-size: 12px; color: #888; }

        /* --- –ú–û–ù–ï–¢–ö–ê (3D) --- */
        .coin-container {
            width: 100px;
            height: 100px;
            margin: 20px auto;
            position: relative;
            perspective: 1000px;
        }
        .coin {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 3s ease-out;
        }
        .coin-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 20px;
            border: 5px solid #d4af37;
        }
        .heads { background-color: #fdd835; color: #333; transform: rotateY(0deg); }
        .tails { background-color: #c0c0c0; color: #333; transform: rotateY(180deg); }

        input {
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #555;
            background: #222;
            color: white;
            width: 70%;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>

    <header>
        <div class="logo">RobloxClone</div>
        <div class="user-info" onclick="openProfile()">
            <span class="balance" id="balanceDisplay">15 Tickets</span>
            <div class="avatar" id="avatarDisplay">?</div>
        </div>
    </header>

    <div class="main-container">
        <div class="top-bar">
            <button class="btn btn-green" onclick="openRewards()">üéÅ –ù–∞–≥—Ä–∞–¥—ã –∑–∞ –≤—Ä–µ–º—è <span id="mainTimer">00:00</span></button>
            <button class="btn" onclick="openCoinGame()">ü™ô –ö–∏–Ω—É—Ç—å –º–æ–Ω–µ—Ç–∫—É</button>
        </div>

        <h2>–ò–≥—Ä—ã</h2>
        <div class="games-grid" id="gamesList">
            </div>
    </div>

    <div id="modalProfile" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalProfile')">&times;</span>
            <h2>–ü—Ä–æ—Ñ–∏–ª—å</h2>
            <div class="avatar" id="modalAvatar" style="width:80px; height:80px; font-size:40px; margin: 0 auto 10px;">?</div>
            <p id="emailDisplay">user@mail.com</p>
            <hr style="border-color: #444;">
            <h3>–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–∏–∫–µ—Ç—ã</h3>
            <input type="text" id="transferName" placeholder="–ù–∏–∫–Ω–µ–π–º –∏–≥—Ä–æ–∫–∞">
            <input type="number" id="transferAmount" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ">
            <button class="btn btn-green" onclick="transferTickets()">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
        </div>
    </div>

    <div id="modalRewards" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalRewards')">&times;</span>
            <h2>–ù–∞–≥—Ä–∞–¥—ã –∑–∞ –æ–Ω–ª–∞–π–Ω</h2>
            <p>–¢—ã –≤ –∏–≥—Ä–µ: <span id="rewardsTimer">00:00</span></p>
            <div id="rewardsList"></div>
        </div>
    </div>

    <div id="modalCoin" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('modalCoin')">&times;</span>
            <h2>–û—Ä–µ–ª –∏–ª–∏ –†–µ—à–∫–∞</h2>
            
            <div class="coin-container">
                <div class="coin" id="coin">
                    <div class="coin-face heads">O</div>
                    <div class="coin-face tails">P</div>
                </div>
            </div>

            <p id="coinResult">–°–¥–µ–ª–∞–π —Å—Ç–∞–≤–∫—É!</p>
            <p style="font-size: 12px; color: yellow;">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –∫–∏–¥–∫–∏: <span id="freeFlipsCount">0</span></p>
            
            <input type="number" id="betAmount" placeholder="–°—Ç–∞–≤–∫–∞ (Tickets)" value="5">
            <br>
            <button class="btn" onclick="flipCoin('heads')">–û—Ä–µ–ª (Heads)</button>
            <button class="btn" onclick="flipCoin('tails')">–†–µ—à–∫–∞ (Tails)</button>
        </div>
    </div>

    <script>
        // --- –î–ê–ù–ù–´–ï –ò–ì–†–û–ö–ê ---
        // –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–æ–≤—ã–π, –¥–∞–µ–º 15 —Ç–∏–∫–µ—Ç–æ–≤. –ò–Ω–∞—á–µ –±–µ—Ä–µ–º –∏–∑ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è.
        let userData = JSON.parse(localStorage.getItem('robloxUser')) || {
            email: "krutoy_chel@gmail.com", // –ü—Ä–∏–º–µ—Ä –ø–æ—á—Ç—ã
            tickets: 15,
            freeFlips: 0,
            playTime: 0, // –í —Å–µ–∫—É–Ω–¥–∞—Ö
            claimedRewards: [] // ID –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –Ω–∞–≥—Ä–∞–¥
        };

        // --- –ù–ê–°–¢–†–û–ô–ö–ò –ù–ê–ì–†–ê–î ---
        const rewardsConfig = [
            { id: 1, time: 60, type: 'tickets', amount: 3, label: "1 –º–∏–Ω—É—Ç–∞: 3 Tickets" },
            { id: 2, time: 300, type: 'tickets', amount: 5, label: "5 –º–∏–Ω—É—Ç: 5 Tickets" },
            { id: 3, time: 600, type: 'flips', amount: 3, label: "10 –º–∏–Ω—É—Ç: 3 –ë–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫–∏–¥–∫–∞" },
            { id: 4, time: 900, type: 'tickets', amount: 8, label: "15 –º–∏–Ω—É—Ç: 8 Tickets" },
            { id: 5, time: 1200, type: 'flips', amount: 1, label: "20 –º–∏–Ω—É—Ç: 1 –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–∏–¥–æ–∫" },
            { id: 6, time: 1800, type: 'tickets', amount: 10, label: "30 –º–∏–Ω—É—Ç: 10 Tickets" },
            { id: 7, time: 3600, type: 'flips', amount: 10, label: "60 –º–∏–Ω—É—Ç: 10 –ë–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫–∏–¥–∫–æ–≤" }
        ];

        // --- –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø ---
        function init() {
            updateUI();
            renderGames();
            renderRewards();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä
            setInterval(() => {
                userData.playTime++;
                saveData();
                updateTimerUI();
                renderRewards(); // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫–∏
            }, 1000);
        }

        // --- –û–ë–ù–û–í–õ–ï–ù–ò–ï –ò–ù–¢–ï–†–§–ï–ô–°–ê ---
        function updateUI() {
            // –ë–∞–ª–∞–Ω—Å
            document.getElementById('balanceDisplay').innerText = userData.tickets + " Tickets";
            
            // –ê–≤–∞—Ç–∞—Ä–∫–∞ (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞)
            const letter = userData.email.charAt(0).toUpperCase();
            document.getElementById('avatarDisplay').innerText = letter;
            document.getElementById('modalAvatar').innerText = letter;
            document.getElementById('emailDisplay').innerText = userData.email;

            // –¶–≤–µ—Ç –∞–≤–∞—Ç–∞—Ä–∫–∏ (—Ä–∞–Ω–¥–æ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –±—É–∫–≤—ã –¥–ª—è –ø—Ä–∏–∫–æ–ª–∞)
            const colors = ['#e74c3c', '#8e44ad', '#3498db', '#16a085', '#f39c12'];
            const colorIndex = letter.charCodeAt(0) % colors.length;
            document.getElementById('avatarDisplay').style.backgroundColor = colors[colorIndex];
            document.getElementById('modalAvatar').style.backgroundColor = colors[colorIndex];
            
            document.getElementById('freeFlipsCount').innerText = userData.freeFlips;
        }

        function updateTimerUI() {
            const min = Math.floor(userData.playTime / 60);
            const sec = userData.playTime % 60;
            const timeStr = `${min}:${sec < 10 ? '0'+sec : sec}`;
            document.getElementById('mainTimer').innerText = timeStr;
            document.getElementById('rewardsTimer').innerText = timeStr;
        }

        function saveData() {
            localStorage.setItem('robloxUser', JSON.stringify(userData));
        }

        // --- –õ–û–ì–ò–ö–ê –ù–ê–ì–†–ê–î ---
        function renderRewards() {
            const container = document.getElementById('rewardsList');
            container.innerHTML = "";

            rewardsConfig.forEach(reward => {
                const isClaimed = userData.claimedRewards.includes(reward.id);
                const canClaim = userData.playTime >= reward.time;
                
                const div = document.createElement('div');
                div.className = 'reward-item';
                
                let btnHtml = '';
                if (isClaimed) {
                    btnHtml = `<button class="btn" disabled style="opacity:0.5">–ü–æ–ª—É—á–µ–Ω–æ</button>`;
                } else if (canClaim) {
                    btnHtml = `<button class="btn btn-green" onclick="claimReward(${reward.id})">–ó–∞–±—Ä–∞—Ç—å</button>`;
                } else {
                    const timeLeft = reward.time - userData.playTime;
                    btnHtml = `<span class="timer-display">—á–µ—Ä–µ–∑ ${Math.ceil(timeLeft/60)} –º–∏–Ω</span>`;
                }

                div.innerHTML = `<span>${reward.label}</span> ${btnHtml}`;
                container.appendChild(div);
            });
        }

        function claimReward(id) {
            const reward = rewardsConfig.find(r => r.id === id);
            if (!reward) return;

            if (reward.type === 'tickets') {
                userData.tickets += reward.amount;
                alert(`–¢—ã –ø–æ–ª—É—á–∏–ª +${reward.amount} Tickets!`);
            } else if (reward.type === 'flips') {
                userData.freeFlips += reward.amount;
                alert(`–¢—ã –ø–æ–ª—É—á–∏–ª +${reward.amount} –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫–∏–¥–∫–æ–≤!`);
            }

            userData.claimedRewards.push(id);
            saveData();
            updateUI();
            renderRewards();
        }

        // --- –õ–û–ì–ò–ö–ê –ü–ï–†–ï–í–û–î–ê ---
        function transferTickets() {
            const name = document.getElementById('transferName').value;
            const amount = parseInt(document.getElementById('transferAmount').value);

            if (!name) { alert("–í–≤–µ–¥–∏ –∏–º—è –¥—Ä—É–≥–∞!"); return; }
            if (isNaN(amount) || amount <= 0) { alert("–í–≤–µ–¥–∏ –Ω–æ—Ä–º–∞–ª—å–Ω—É—é —Å—É–º–º—É!"); return; }
            if (amount > userData.tickets) { alert("–£ —Ç–µ–±—è –Ω–µ—Ç —Å—Ç–æ–ª—å–∫–æ —Ç–∏–∫–µ—Ç–æ–≤!"); return; }

            userData.tickets -= amount;
            alert(`–£—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ ${amount} Tickets –∏–≥—Ä–æ–∫—É ${name}!`);
            
            saveData();
            updateUI();
            closeModal('modalProfile');
        }

        // --- –õ–û–ì–ò–ö–ê –ú–û–ù–ï–¢–ö–ò (3D + –°–¢–ê–í–ö–ò) ---
        function flipCoin(choice) {
            const betInput = document.getElementById('betAmount');
            let bet = parseInt(betInput.value);
            let useFreeFlip = false;

            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –∫–∏–¥–∫–æ–≤
            if (userData.freeFlips > 0) {
                if (confirm(`–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–∏–¥–æ–∫? (–û—Å—Ç–∞–ª–æ—Å—å: ${userData.freeFlips})`)) {
                    useFreeFlip = true;
                    bet = 0; // –ü—Ä–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –∫–∏–¥–∫–µ –º—ã –Ω–µ —Ç—Ä–∞—Ç–∏–º —Å–≤–æ–∏, –Ω–æ –≤—ã–∏–≥—Ä—ã–≤–∞–µ–º —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—É—é –Ω–∞–≥—Ä–∞–¥—É (–Ω–∞–ø—Ä–∏–º–µ—Ä 5)
                }
            }

            if (!useFreeFlip) {
                if (isNaN(bet) || bet <= 0) { alert("–°–¥–µ–ª–∞–π —Å—Ç–∞–≤–∫—É!"); return; }
                if (bet > userData.tickets) { alert("–ù–µ —Ö–≤–∞—Ç–∞–µ—Ç —Ç–∏–∫–µ—Ç–æ–≤!"); return; }
                userData.tickets -= bet; // –°–Ω–∏–º–∞–µ–º —Å—Ç–∞–≤–∫—É —Å—Ä–∞–∑—É
            } else {
                userData.freeFlips--; // –°–Ω–∏–º–∞–µ–º –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –∫–∏–¥–æ–∫
            }
            
            updateUI();

            const coin = document.getElementById('coin');
            const resultDisplay = document.getElementById('coinResult');
            resultDisplay.innerText = "–ü–æ–¥–±—Ä–∞—Å—ã–≤–∞–µ–º...";
            
            // –°–ª—É—á–∞–π–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 1 = Tails (–†–µ—à–∫–∞), 0 = Heads (–û—Ä–µ–ª)
            // –ú—ã —Å–¥–µ–ª–∞–µ–º –º–Ω–æ–≥–æ –æ–±–æ—Ä–æ—Ç–æ–≤ + —Ä–µ–∑—É–ª—å—Ç–∞—Ç
            const isHeads = Math.random() < 0.5;
            const resultSide = isHeads ? 'heads' : 'tails';
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é
            coin.style.transition = 'none';
            coin.style.transform = 'rotateY(0deg)';
            
            setTimeout(() => {
                coin.style.transition = 'transform 3s ease-out';
                // –í—Ä–∞—â–∞–µ–º 5 –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤ (1800deg) + —Ä–µ–∑—É–ª—å—Ç–∞—Ç
                // Heads = 0 –∏–ª–∏ 360, Tails = 180
                const rotate = 1800 + (isHeads ? 0 : 180); 
                coin.style.transform = `rotateY(${rotate}deg)`;
            }, 50);

            setTimeout(() => {
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–µ–¥—ã
                const win = (choice === resultSide);
                
                if (win) {
                    let winAmount = 0;
                    if (useFreeFlip) {
                        winAmount = 5; // –§–∏–∫—Å –Ω–∞–≥—Ä–∞–¥–∞ –∑–∞ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Ñ–ª–∏–ø
                        resultDisplay.innerText = `–í—ã–ø–∞–ª–æ ${resultSide.toUpperCase()}! –¢—ã –≤—ã–∏–≥—Ä–∞–ª 5 Tickets (–ë–µ—Å–ø–ª–∞—Ç–Ω–æ)!`;
                    } else {
                        winAmount = bet * 2;
                        resultDisplay.innerText = `–í—ã–ø–∞–ª–æ ${resultSide.toUpperCase()}! –¢—ã –≤—ã–∏–≥—Ä–∞–ª ${winAmount} Tickets!`;
                    }
                    userData.tickets += winAmount;
                } else {
                    resultDisplay.innerText = `–í—ã–ø–∞–ª–æ ${resultSide.toUpperCase()}. –¢—ã –ø—Ä–æ–∏–≥—Ä–∞–ª :(`;
                }
                saveData();
                updateUI();
            }, 3000); // –ñ–¥–µ–º 3 —Å–µ–∫ –ø–æ–∫–∞ –∞–Ω–∏–º–∞—Ü–∏—è –∫–æ–Ω—á–∏—Ç—Å—è
        }

        // --- –ì–ï–ù–ï–†–ê–¶–ò–Ø –ò–ì–† ---
        function renderGames() {
            const games = [
                { name: "Mega Easy Obby", online: "12.4k", color: "#f1c40f" },
                { name: "Tycoon Simulator", online: "5.1k", color: "#e67e22" },
                { name: "Pet Ranch", online: "8.9k", color: "#9b59b6" },
                { name: "City Life", online: "25k", color: "#3498db" },
                { name: "Zombie Attack", online: "3.2k", color: "#e74c3c" }
            ];

            const container = document.getElementById('gamesList');
            games.forEach(g => {
                const card = document.createElement('div');
                card.className = 'game-card';
                card.onclick = () => alert(`–ó–∞—Ö–æ–¥–∏–º –≤ ${g.name}...`);
                card.innerHTML = `
                    <div class="game-img" style="background:${g.color}">–ö–∞—Ä—Ç–∏–Ω–∫–∞</div>
                    <div class="game-title">${g.name}</div>
                    <div class="game-online">üü¢ ${g.online} Playing</div>
                `;
                container.appendChild(card);
            });
        }

        // --- –£–ü–†–ê–í–õ–ï–ù–ò–ï –û–ö–ù–ê–ú–ò ---
        function openProfile() { document.getElementById('modalProfile').style.display = 'flex'; }
        function openRewards() { document.getElementById('modalRewards').style.display = 'flex'; }
        function openCoinGame() { document.getElementById('modalCoin').style.display = 'flex'; }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }

        // –ó–∞–ø—É—Å–∫
        init();

    </script>
</body>
</html>
